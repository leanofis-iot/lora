<!DOCTYPE html>
<html lang="en">
<head>
  <title>LoRa Wireless RTU</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">    
</head>
<body>
<div class="container"> 
  <form class="accordion" onsubmit="return false" id="main-form">
    <div id="generals"></div>
    <div id="analogs"></div>
    <div id="digitals"></div>
    <div id="modbuses"></div>
    <div id="times"></div>    
  </form>  
  <button type="button" class="btn btn-secondary" id="connect">Connect</button>
  <button type="button" class="btn btn-secondary" id="set-time">Time</button>
  <button type="button" class="btn btn-secondary"id ="read">Read</button>
  <button type="submit" class="btn btn-secondary" form="main-form" id="save">Save</button>
  <h6 id="status">This is the message</h6>
  <br>
  <br>
  <br>
  <br>
</div>
<script src="serial.js"></script>
<script src="rtu.js"></script>
<script src="https://code.jquery.com/jquery-3.4.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>
</body>
</html>

<template>
  <button class="btn btn-secondary btn-lg btn-block" type="button" data-toggle="collapse" data-target="#general" aria-expanded="true" aria-controls="general">
  General
  </button> 
  <div id="general" class="collapse" data-parent="#main-form">
    <br>    
    <label for="lora-dr">LoraWAN Data Rate:</label>
    <select class="form-control" name="lora-dr">
      <option value = "0">0 - SF12BW125</option>
      <option value = "1">1 - SF11BW125</option>
      <option value = "2">2 - SF10BW125</option>
      <option value = "3">3 - SF9BW125</option>
      <option value = "4" selected>4 - SF8BW125</option>
      <option value = "5">5 - SF7BW125</option>
    </select>  
    <label for="lora-port">LoRaWAN Port:</label>
    <input type="number" required class="form-control" value="90" min="1" max="223" step="1" maxlength="3" name="lora-port">
    <label for="poll">Poll Interval (Seconds 1-60):</label>
    <input type="number" required class="form-control" value="1" min="1" max="60" step="1" maxlength="2" name="poll">
    <label for="report">Report Interval (Minutes 5-1440):</label>
    <input type="number" required class="form-control" value="5" min="5" max="1440" step="1" maxlength="4" name="report">
    <label for="modbus-br">Modbus Baud Rate:</label>
    <select class="form-control" name="modbus-br">
      <option value = "2400">2400</option>
      <option value = "4800">4800</option>
      <option value = "9600" selected>9600</option>
      <option value = "19200">19200</option>
      <option value = "38400">38400</option>
      <option value = "57600">57600</option>
      <option value = "115200">115200</option>
    </select>  
    <label for="modbus-data-bit">Modbus Data Bits:</label>
    <select class="form-control" name="modbus-data-bit">
      <option value = "5">5</option>
      <option value = "7">7</option>
      <option value = "8" selected>8</option>      
    </select> 
    <label for="modbus-stop-bit">Modbus Stop Bits:</label>
    <select class="form-control" name="modbus-stop-bit">
      <option value = "1">1</option>
      <option value = "2">2</option>           
    </select> 
    <label for="modbus-par-bit">Modbus Parity Bits:</label>
    <select class="form-control" name="modbus-par-bit">
      <option value = "0">none</option>
      <option value = "1">Even</option>
      <option value = "2">Odd</option>      
    </select> 
    <br>     
  </div>
</template>

<template>
  <button class="btn btn-secondary btn-lg btn-block" type="button" data-toggle="collapse" data-target="#analog" aria-expanded="true" aria-controls="analog">
  Analog
  </button> 
  <div id="analog" class="collapse" data-parent="#main-form">
    <br>
    <h6>Settings:</h6>
    <br>
    <div class="form-check">
      <label class="form-check-label">
        <input type="checkbox" class="form-check-input" name="enable">Enable
      </label>
    </div>    
    <label for="unit">Unit:</label>
    <select class="form-control" name="unit">    
    <option value = "2">Analog</option>
    <option value = "100">Generic</option>
    <option value = "101">Luminosity</option>    
    <option value = "103">Temperature</option>
    <option value = "104">R.Humidity</option>
    <option value = "115">Barometric</option>
    <option value = "116">Voltage</option>
    <option value = "117">Current</option> 
    <option value = "118">Frequency</option>
    <option value = "120">Percentage</option>
    <option value = "121">Altitude</option>
    <option value = "128">Power</option>   
    <option value = "130">Distance</option>
    <option value = "131">Energy</option>
    <option value = "132">Direction</option>
    <option value = "133">Unixtime</option>                
    </select>
    <div class="form-check" name="div-scale">
      <label class="form-check-label">
        <input type="checkbox" class="form-check-input" name="scale">Scale
      </label>
    </div>
    <label for="in-min">In Min.:</label>
    <input type="number" required class="form-control" value="0" step="any" name="in-min">
    <label for="in-max">In Max.:</label>
    <input type="number" required class="form-control" value="0" step="any" name="in-max">
    <label for="out-min">Out Min.:</label>
    <input type="number" required class="form-control" value="0" step="any" name="out-min">
    <label for="out-max">Out Max.:</label>
    <input type="number" required class="form-control" value="0" step="any" name="out-max">    
    <label for="low-set">Low Set:</label>
    <input type="number" required class="form-control" value="0" step="any" name="low-set">
    <label for="high-set">High Set:</label>
    <input type="number" required class="form-control" value="0" step="any" name="high-set">
    <label for="delay">Delay (Miliseconds 0-65535):</label>
    <input type="number" required class="form-control" value="100" max="65535" step="1" maxlength="5" name="delay">
    <br>
    <h6>IFTT:</h6>
    <br>    
    <label for="falling-relay-1">If Falling Than Relay 1</label>
    <select class="form-control" name="falling-relay-1">
      <option value = "0">none</option>
      <option value = "1">Activate</option>
      <option value = "2">Deactivate</option>
      <option value = "3">Toggle</option>         
    </select> 
    <label for="falling-relay-2">If Falling Than Relay 2</label>
    <select class="form-control" name="falling-relay-2">
      <option value = "0">none</option>
      <option value = "1">Activate</option>
      <option value = "2">Deactivate</option>
      <option value = "3">Toggle</option>   
    </select> 
    <div class="form-check">
      <label class="form-check-label">
        <input type="checkbox" class="form-check-input" name="falling-report">If Falling Than Report
      </label>
    </div> 
    <br>
    <label for="rising-relay-1">If Rising Than Relay 1</label>
    <select class="form-control" name="rising-relay-1">
      <option value = "0">none</option>
      <option value = "1">Activate</option>
      <option value = "2">Deactivate</option>
      <option value = "3">Toggle</option>         
    </select> 
    <label for="rising-relay-2">If Rising Than Relay 2</label>
    <select class="form-control" name="rising-relay-2">
      <option value = "0">none</option>
      <option value = "1">Activate</option>
      <option value = "2">Deactivate</option>
      <option value = "3">Toggle</option>   
    </select> 
    <div class="form-check">
      <label class="form-check-label">
        <input type="checkbox" class="form-check-input" name="rising-report">If Rising Than Report
      </label>
    </div>
    <br>
  </div>
</template>

<template>
  <button class="btn btn-secondary btn-lg btn-block" type="button" data-toggle="collapse" data-target="#digital" aria-expanded="true" aria-controls="digital">
  Digital
  </button> 
  <div id="digital" class="collapse" data-parent="#main-form">
    <br>
    <h6>Settings:</h6>
    <br>
    <div class="form-check">
      <label class="form-check-label">
        <input type="checkbox" class="form-check-input" name="enable">Enable
      </label>
    </div>     
    <label for="unit">Unit:</label>
    <select class="form-control" name="unit">    
    <option value = "0">Digital</option>
    <option value = "142">Switch</option>
    <option value = "102">Presence</option>            
    </select>    
    <label for="delay">Delay (Miliseconds 0-65535):</label>
    <input type="number" required class="form-control" value="100" max="65535" step="1" maxlength="5" name="delay">
    <br>
    <h6>IFTT:</h6>
    <br>    
    <label for="falling-relay-1">If Falling Than Relay 1</label>
    <select class="form-control" name="falling-relay-1">
      <option value = "0">none</option>
      <option value = "1">Activate</option>
      <option value = "2">Deactivate</option>
      <option value = "3">Toggle</option>         
    </select> 
    <label for="falling-relay-2">If Falling Than Relay 2</label>
    <select class="form-control" name="falling-relay-2">
      <option value = "0">none</option>
      <option value = "1">Activate</option>
      <option value = "2">Deactivate</option>
      <option value = "3">Toggle</option>   
    </select> 
    <div class="form-check">
      <label class="form-check-label">
        <input type="checkbox" class="form-check-input" name="falling-report">If Falling Than Report
      </label>
    </div> 
    <br>
    <label for="rising-relay-1">If Rising Than Relay 1</label>
    <select class="form-control" name="rising-relay-1">
      <option value = "0">none</option>
      <option value = "1">Activate</option>
      <option value = "2">Deactivate</option>
      <option value = "3">Toggle</option>         
    </select> 
    <label for="rising-relay-2">If Rising Than Relay 2</label>
    <select class="form-control" name="rising-relay-2">
      <option value = "0">none</option>
      <option value = "1">Activate</option>
      <option value = "2">Deactivate</option>
      <option value = "3">Toggle</option>   
    </select> 
    <div class="form-check">
      <label class="form-check-label">
        <input type="checkbox" class="form-check-input" name="rising-report">If Rising Than Report
      </label>
    </div>
    <br>
  </div>
</template>

<template>
  <button class="btn btn-secondary btn-lg btn-block" type="button" data-toggle="collapse" data-target="#modbus" aria-expanded="true" aria-controls="modbus">
  Modbus
  </button> 
  <div id="modbus" class="collapse" data-parent="#main-form">
    <br>
    <h6>Settings:</h6>
    <br>
    <div class="form-check">
      <label class="form-check-label">
        <input type="checkbox" class="form-check-input" name="enable">Enable
      </label>
    </div>     
    <label for="unit">Unit:</label>
    <select class="form-control" name="unit">    
    <option value = "2">Analog</option>
    <option value = "100">Generic</option>
    <option value = "101">Luminosity</option>    
    <option value = "103">Temperature</option>
    <option value = "104">R.Humidity</option>
    <option value = "115">Barometric</option>
    <option value = "116">Voltage</option>
    <option value = "117">Current</option> 
    <option value = "118">Frequency</option>
    <option value = "120">Percentage</option>
    <option value = "121">Altitude</option>
    <option value = "128">Power</option>   
    <option value = "130">Distance</option>
    <option value = "131">Energy</option>
    <option value = "132">Direction</option>
    <option value = "133">Unixtime</option>
    <option value = "0">Digital</option>
    <option value = "142">Switch</option>
    <option value = "102">Presence</option>            
    </select>
    <label for="slave">Slave Address (1-247):</label>
    <input type="number" required class="form-control" value="1" min="1" max="247" step="1" maxlength ="3" name="slave">
    <label for="function">Function:</label>
    <select class="form-control" name="function">
    <option value = "0">Coils</option>
    <option value = "1">Discrete</option>
    <option value = "2">Holding</option>
    <option value = "3">Input</option>     
    </select> 
    <label for="register">Register Address:</label>
    <input type="number" required class="form-control" value="0" min="0" step="1" maxlength ="5" name="register">
    <label for="type">Type:</label>
    <select class="form-control" name="type">
    <option value = "0">uint16</option>
    <option value = "1">int16</option>
    <option value = "2">uint32</option>
    <option value = "3">int32</option>
    <option value = "4">float32</option>     
    </select>
    <label for="quantity">Quantity:</label>
    <input type="number" required disabled class="form-control" value="1" name="quantity">
    <label for="decimal">Decimal Places:</label>
    <select class="form-control" name="decimal">
    <option value = "0">0</option>
    <option value = "1">1</option>
    <option value = "2">2</option>
    <option value = "3">3</option>
    <option value = "4">4</option>
    <option value = "5">5</option>     
    </select> 
    <label for="coil-mask">Coil Mask:</label>
    <input type="text" required class="form-control" value="0000000000000000" pattern="[0-1]{16}" maxlength="16" name="coil-mask">
    <label for="discrete-mask">Discrete Mask:</label>
    <input type="text" required class="form-control" value="0000000000000000" pattern="[0-1]{16}" maxlength="16" name="discrete-mask">
    <label for="low-set">Low Set:</label>
    <input type="number" required class="form-control" value="0" step="any" name="low-set">
    <label for="high-set">High Set:</label>
    <input type="number" required class="form-control" value="0" step="any" name="high-set">
    <label for="delay">Delay (Miliseconds 0-65535):</label>
    <input type="number" required class="form-control" value="100" max="65535" step="1" maxlength="5" name="delay">
    <br>
    <h6>IFTT:</h6>
    <br>    
    <label for="falling-relay-1">If Falling Than Relay 1</label>
    <select class="form-control" name="falling-relay-1">
      <option value = "0">none</option>
      <option value = "1">Activate</option>
      <option value = "2">Deactivate</option>
      <option value = "3">Toggle</option>         
    </select> 
    <label for="falling-relay-2">If Falling Than Relay 2</label>
    <select class="form-control" name="falling-relay-2">
      <option value = "0">none</option>
      <option value = "1">Activate</option>
      <option value = "2">Deactivate</option>
      <option value = "3">Toggle</option>   
    </select> 
    <div class="form-check">
      <label class="form-check-label">
        <input type="checkbox" class="form-check-input" name="falling-report">If Falling Than Report
      </label>
    </div>
    <br> 
    <label for="rising-relay-1">If Rising Than Relay 1</label>
    <select class="form-control" name="rising-relay-1">
      <option value = "0">none</option>
      <option value = "1">Activate</option>
      <option value = "2">Deactivate</option>
      <option value = "3">Toggle</option>         
    </select> 
    <label for="rising-relay-2">If Rising Than Relay 2</label>
    <select class="form-control" name="rising-relay-2">
      <option value = "0">none</option>
      <option value = "1">Activate</option>
      <option value = "2">Deactivate</option>
      <option value = "3">Toggle</option>   
    </select> 
    <div class="form-check">
      <label class="form-check-label">
        <input type="checkbox" class="form-check-input" name="rising-report">If Rising Than Report
      </label>
    </div>
    <br>
  </div>
</template>

<template>
  <button class="btn btn-secondary btn-lg btn-block" type="button" data-toggle="collapse" data-target="#time" aria-expanded="true" aria-controls="time">
  Time
  </button> 
  <div id="time" class="collapse" data-parent="#main-form">
    <br>
    <div class="form-check">
      <label class="form-check-label">
        <input type="checkbox" class="form-check-input" name="enable">Enable
      </label>
    </div>  
    <label for="hour">Hour:</label>
    <input type="number" required class="form-control" value="0" min="0" max="23" step="1" maxlength ="2" name="hour">
    <label for="minute">Minute:</label>
    <input type="number" required class="form-control" value="0" min="0" max="59" step="1" maxlength ="2" name="minute">
    <label for="time-relay-1">If Time Than Relay 1</label>
    <select class="form-control" name="time-relay-1">
      <option value = "0">none</option>
      <option value = "1">Activate</option>
      <option value = "2">Deactivate</option>
      <option value = "3">Toggle</option>         
    </select> 
    <label for="time-relay-2">If Time Than Relay 2</label>
    <select class="form-control" name="time-relay-2">
      <option value = "0">none</option>
      <option value = "1">Activate</option>
      <option value = "2">Deactivate</option>
      <option value = "3">Toggle</option>   
    </select>
    <br>
  </div>     
</template>
